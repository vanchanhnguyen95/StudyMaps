Cach chay elastic:
https://github.com/duydo/elasticsearch-analysis-vietnamese/issues/111

Lưu ý: nên dùng ES 7.3.1, các version cũ crash loạn xạ với Java core dump !

sudo su
apt-get update -y
apt-get upgrade -y
apt-get install build-essential cmake unzip pkg-config gcc-7 g++-7 -y
apt-get install wget curl nano git -y

cd /

*** Tải ElasticSearch 7.3.1
wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.3.1-linux-x86_64.tar.gz
tar -xzf elasticsearch-7.3.1-linux-x86_64.tar.gz
mv elasticsearch-7.3.1-linux-x86_64 /es

mv elasticsearch-7.3.1 /data/es

mv elasticsearch-7.3.1 /es

export PATH=$PATH:/es/jdk/bin
export JAVA_HOME=/es/jdk
export ES_JAVA_HOME=/es/jdk

export PATH=$PATH:/data/es/jdk/bin
export JAVA_HOME=/data/es/jdk
export ES_JAVA_HOME=/data/es/jdk

** Tải ES Analysis Vietnam
wget https://github.com/duydo/elasticsearch-analysis-vietnamese/releases/download/v7.3.1/elasticsearch-analysis-vietnamese-7.3.1.zip
mv elasticsearch-analysis-vietnamese-7.3.1.zip /tmp

mv elasticsearch-analysis-vietnamese-7.3.1.zip /data/tmp

mv elasticsearch-analysis-vietnamese-7.3.1.zip /data/tmpt

** Tải C++ Tokenizer
git clone https://github.com/coccoc/coccoc-tokenizer.git
cd coccoc-tokenizer
mkdir build
cd build
cmake -DBUILD_JAVA=1 ..
make install

** Cài plugin:
cd /es
echo "Y" | ./bin/elasticsearch-plugin install file:///data/tmp/elasticsearch-analysis-vietnamese-7.3.1.zip

echo "Y" | ./bin/elasticsearch-plugin install file:///data/tmpt/elasticsearch-analysis-vietnamese-7.3.1.zip

echo "Y" | ./bin/elasticsearch-plugin install file:///data/elasticsearch-analysis-vietnamese-7.3.1.zip
echo "Y" | ./bin/elasticsearch-plugin install file:///elasticsearch-analysis-vietnamese-7.3.1.zip

 https://artifacts.elastic.co/downloads/elasticsearch-plugins/analysis-icu/analysis-icu-7.3.2.zip.
 
 sudo bin/elasticsearch-plugin install https://artifacts.elastic.co/downloads/elasticsearch-plugins/analysis-icu/analysis-icu-7.3.1.zip

*** Chuẩn bị
groupadd -g 999 nqrt && useradd -r -u 999 -g nqrt nqrt
usermod -aG sudo nqrt
chown nqrt:nqrt /es -R
sysctl -w vm.max_map_count=262144

su nqrt

** Run
export ES_JAVA_OPTS="-Xms2048m -Xmx2048m -Djava.library.path=/usr/local/lib"
cd /es
./bin/elasticsearch

Steve

Cach chay kibana
cd  kibana-7.3.1-linux-x86_64
./bin/kibana --allow-root

http://localhost:5601/app/kibana#/dev_tools/console?_g=()
http://localhost:9200/


1.geo_point
 - Viết api tạo index dạng geo_point
 - Viết api insert dữ liệu dạng geo_point: param có thể là 1 object/1 list

1.geo_shape
 - Viết api tạo index dạng geo_shape
 - Viết api insert dữ liệu dạng geo_shape: param có thể là 1 object/1 list
 
deploy service trên ubuntu 18.04

curl -X GET "http://localhost:9200/"

Tài khoản: kcn
Mật khẩu: mqBZh*P@